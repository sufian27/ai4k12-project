{% extends "base.html" %}

{% block content %}
<div class="row">
	<img src="{{ url_for('static', filename = 'img/example' + example + '/intro.jpg') }}" class="col-5">
	<div class="col-6">
		<div class="intro-card card border-info mb-3">
		  <div class="card-header">The Chemistry of Wine: Fermentation</div>
		  <div class="card-body text-info">
		    <!-- <h5 class="card-title"></h5> -->
		    <p class="card-text">There are two basic ingredients needed to ferment the juice of grapes into wine: sugar and yeast. Sugar level increases as the grapes ripen on the vine.</p>
		    <p class="card-text">The second ingredient needed for fermentation, yeast, consumes the sugar in the must, and as a byproduct, it releases three components: ethanol, CO2, and heat. The CO2 and heat escape, and the ethanol remains. The natural yeast dies off when grape juice reaches 4 to 5 percent alcohol by volume, before fermentation is complete. Then the winemaker adds an anaerobic cultured yeast in order to ferment the must completely.</p>
		    <p class="card-text">Following fermentation, the winemaker will store the wine in various vessels. During that period, harsh acids in the wine convert into softer, more palatable acids.</p>
		  </div>
		</div>
	</div>
</div>
<!-- <a class="btn btn-primary" role="button">Next</a> -->
{% endblock %}

{% block script %}
<script>
	$('.mapping-btn').addClass('hidden');
	function readpara (para) {
		return para;
	}
	var dataset = readpara( {{ json_data | tojson | safe }} );
	var dataset_face = readpara( {{ dataset_face | safe }} );
	var full_json_dataset = JSON.parse(dataset);
	// var json_dataset = full_json_dataset.records.slice(0, 210)
	var json_dataset = full_json_dataset.records;
	console.log(json_dataset.length);
	var variables = Object.keys(json_dataset[0]);
	var str_dataset = JSON.stringify(json_dataset);
	localStorage.setItem('localDataset', str_dataset);

	var example = readpara( {{ example }} );

	$(".next-btn").click( function() {
		$(this).attr("href", "/var?example=" + example);
	});

	//note: what are needed for most pages: json_dataset, dataset_face(in case some original variables are not numeric), json_mapping, example index
</script>
<script src="{{ url_for('static', filename = 'js/mapping_rule.js') }}"></script>
{% endblock %}
